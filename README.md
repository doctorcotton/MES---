# MES é¥®æ–™åˆ¶é€ é…æ–¹ç¼–è¾‘å™¨

[![React](https://img.shields.io/badge/React-18-blue)](https://reactjs.org/) [![TypeScript](https://img.shields.io/badge/TypeScript-5.2-blue)](https://www.typescriptlang.org/) [![Vite](https://img.shields.io/badge/Vite-5.0-646CFF)](https://vitejs.dev/) [![Tailwind CSS](https://img.shields.io/badge/Tailwind-3.4-38B2AC)](https://tailwindcss.com/) [![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

ä¸€ä¸ªä¸“ä¸ºé¥®æ–™ç”Ÿäº§è¡Œä¸šè®¾è®¡çš„**å¯è§†åŒ–å·¥è‰ºæµç¨‹ç¼–è¾‘å™¨**ã€‚å®ƒé›†æˆäº†ç»“æ„åŒ–æ•°æ®ç¼–è¾‘ã€æ™ºèƒ½æµç¨‹å›¾ç”Ÿæˆã€è®¾å¤‡è°ƒåº¦ä¼˜åŒ–å’Œ**å¤šäººå®æ—¶åä½œ**åŠŸèƒ½ï¼Œå¸®åŠ©ä¼ä¸šé«˜æ•ˆç®¡ç†é…æ–¹å·¥è‰ºï¼Œæå‡ç ”å‘å’Œç”Ÿäº§æ•ˆç‡ã€‚

> **æ ¸å¿ƒç‰¹æ€§**ï¼šè‡ªç ”å·¥è‰ºæ®µè¯†åˆ«å¸ƒå±€ç®—æ³• | SQLite é©±åŠ¨çš„åŠ¨æ€å­—æ®µé…ç½® | å®æ—¶ WebSocket åä½œ | è®¾å¤‡è°ƒåº¦ç”˜ç‰¹å›¾

## âœ¨ æ ¸å¿ƒäº®ç‚¹

- ğŸ¯ **åŒè§†å›¾å®æ—¶è”åŠ¨**ï¼šè¡¨æ ¼æ•°æ®ä¸æµç¨‹å›¾å®æ—¶åŒå‘åŒæ­¥ï¼Œæ‰€è§å³æ‰€å¾—ã€‚
- ğŸ§  **è‡ªç ”æ™ºèƒ½å¸ƒå±€**ï¼šæ‘’å¼ƒä¼ ç»Ÿ Dagre å¸ƒå±€ï¼Œé‡‡ç”¨ä¸“ä¸ºå·¥è‰ºæµç¨‹è®¾è®¡çš„**DFS å·¥è‰ºæ®µè¯†åˆ« + åˆ†æ®µå¸ƒå±€ç®—æ³•**ï¼Œè‡ªåŠ¨è¯†åˆ«ä¸²è¡Œ/å¹¶è¡Œé€»è¾‘ï¼Œç”Ÿæˆç¾è§‚ã€è§„èŒƒçš„æµç¨‹å›¾ã€‚
- ğŸ”§ **åŠ¨æ€å­—æ®µé…ç½®**ï¼šåŸºäº SQLite æ•°æ®åº“é©±åŠ¨çš„å­—æ®µç³»ç»Ÿï¼Œæ”¯æŒ Text, Number, Select, Array, Object ç­‰å¤šç§ç±»å‹ï¼Œ**æ— éœ€ä¿®æ”¹ä»£ç å³å¯åŠ¨æ€æ‰©å±•è¡¨å•**ã€‚
- ğŸ“Š **æ™ºèƒ½è®¾å¤‡è°ƒåº¦**ï¼šè‡ªåŠ¨è®¡ç®—è®¾å¤‡å ç”¨æ—¶é—´çº¿ï¼Œç”Ÿæˆç”Ÿäº§æ’ç¨‹ç”˜ç‰¹å›¾ï¼Œæ”¯æŒç ”å‘/ç”Ÿäº§åŒè§†å›¾åˆ‡æ¢ã€‚
- ğŸ¤ **å¤šäººå®æ—¶åä½œ**ï¼šåŸºäº WebSocket çš„å¤šäººåœ¨çº¿ååŒï¼Œå…·å¤‡ç»†ç²’åº¦çš„ç¼–è¾‘é”æœºåˆ¶å’Œå¿ƒè·³æ£€æµ‹ï¼Œé˜²æ­¢æ•°æ®å†²çªã€‚
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šåŸºäº Shadcn/UI + Tailwind CSS æ„å»ºï¼Œæä¾›æµç•…çš„äº¤äº’ä½“éªŒå’Œä¸“ä¸šçš„è§†è§‰å‘ˆç°ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### 1. æ ¸å¿ƒç¼–è¾‘å™¨
- **å¯è§†åŒ–ç¼–æ’**ï¼šæ”¯æŒæ‹–æ‹½ã€è¿æ¥ã€å¢åŠ /åˆ é™¤èŠ‚ç‚¹ï¼Œç›´è§‚ç®¡ç†å·¥è‰ºè·¯å¾„ã€‚
- **ç»“æ„åŒ–æ•°æ®**ï¼šè¡¨æ ¼è§†å›¾æ”¯æŒé«˜æ•ˆçš„æ•°æ®å½•å…¥ï¼Œå†…è”ç¼–è¾‘ä¸å®æ—¶éªŒè¯ã€‚
- **æ™ºèƒ½è¿çº¿**ï¼šè‡ªåŠ¨å¤„ç†èŠ‚ç‚¹é—´çš„è¿æ¥å…³ç³»ï¼Œæ”¯æŒè®¾ç½®æŠ•æ–™é¡ºåºï¼ˆåºåˆ—å·ï¼‰ã€‚
- **å¾ªç¯æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶é˜»æ­¢å¯èƒ½å¯¼è‡´æ­»é”çš„å¾ªç¯ä¾èµ–é…ç½®ã€‚
- **å¯¼å…¥å¯¼å‡º**ï¼šæ”¯æŒå®Œæ•´é…æ–¹æ•°æ®çš„ JSON å¯¼å…¥å¯¼å‡ºï¼Œä¾¿äºä¸ MES/ERP ç³»ç»Ÿé›†æˆã€‚

### 2. æ™ºèƒ½å¸ƒå±€ç³»ç»Ÿ
- **å·¥è‰ºæ®µè¯†åˆ«**ï¼šè‡ªåŠ¨åˆ†æå·¥è‰ºæ‹“æ‰‘ç»“æ„ï¼ŒåŒºåˆ†å¹¶è¡Œå¤„ç†æ®µå’Œä¸²è¡Œæµè½¬æ®µã€‚
- **ç¾å­¦è§„èŒƒ**ï¼šå›ºå®šè¿çº¿é•¿åº¦ï¼ˆ120pxï¼‰ï¼Œç»Ÿä¸€è½¦é“å®½åº¦ï¼Œè§†è§‰æ•´æ´ç»Ÿä¸€ã€‚
- **æ™ºèƒ½å¯¹é½**ï¼šæ±‡èšç‚¹åŸºäºå­æ ‘è§„æ¨¡åŠ æƒå±…ä¸­ï¼Œé¿å…äº¤å‰é”™ä¹±ã€‚
- **è°ƒè¯•æ¨¡å¼**ï¼šå†…ç½®å¸ƒå±€è°ƒè¯•å·¥å…·ï¼Œå¯è§†åŒ–æ˜¾ç¤ºè¿çº¿è¯¯å·®å’Œå¸ƒå±€å‚æ•°ï¼Œä¾¿äºç®—æ³•è°ƒä¼˜ã€‚

### 3. é…ç½®ä¸æ‰©å±•
- **å·¥è‰ºç±»å‹ç®¡ç†**ï¼šå¯è§†åŒ–é…ç½®å­æ­¥éª¤æ¨¡æ¿å’Œå·¥è‰ºæ®µé»˜è®¤åºåˆ—ã€‚
- **åŠ¨æ€å­—æ®µå®šä¹‰**ï¼šé€šè¿‡ UI é…ç½®å­—æ®µå±æ€§ï¼ˆéªŒè¯è§„åˆ™ã€é»˜è®¤å€¼ã€æ¡ä»¶æ˜¾ç¤ºï¼‰ï¼Œé…ç½®å³ç”Ÿæ•ˆã€‚
- **è®¾å¤‡èµ„æºæ± **ï¼šå¯é…ç½®å·¥å‚è®¾å¤‡èµ„æºï¼Œæ”¯æŒé’ˆå¯¹ä¸åŒäº§çº¿çš„èµ„æºå®šä¹‰ã€‚

### 4. ç”Ÿäº§è°ƒåº¦
- **ç”˜ç‰¹å›¾è§†å›¾**ï¼šå¯è§†åŒ–å±•ç¤ºè®¾å¤‡å ç”¨æƒ…å†µï¼Œæ”¯æŒç¼©æ”¾å’Œæ—¶é—´è½´è°ƒæ•´ã€‚
- **å†²çªé¢„è­¦**ï¼šè‡ªåŠ¨æ£€æµ‹è®¾å¤‡å†²çªï¼Œæ ‡çº¢æ˜¾ç¤ºè¶…æ—¶ä»»åŠ¡ï¼ˆ>50åˆ†é’Ÿï¼‰ã€‚
- **å¤šè§†å›¾åˆ‡æ¢**ï¼šæ”¯æŒâ€œç ”å‘è§†å›¾â€ï¼ˆé€šç”¨èµ„æºï¼‰å’Œâ€œç”Ÿäº§è§†å›¾â€ï¼ˆå®é™…äº§çº¿ï¼‰çš„ä¸€é”®åˆ‡æ¢ã€‚

### 5. ä¼ä¸šçº§åä½œ
- **ç¼–è¾‘é”æœºåˆ¶**ï¼šç”³è¯·/é‡Šæ”¾ç¼–è¾‘æƒé™ï¼Œé˜²æ­¢å¤šäººåŒæ—¶ä¿®æ”¹åŒä¸€é…æ–¹ã€‚
- **çŠ¶æ€æ„ŸçŸ¥**ï¼šå®æ—¶æ˜¾ç¤ºåœ¨çº¿ç”¨æˆ·åˆ—è¡¨åŠå…¶æ“ä½œçŠ¶æ€ã€‚
- **æ¼”ç¤ºæ¨¡å¼**ï¼šæä¾›åªè¯»çš„æ¼”ç¤ºæ¨¡å¼ï¼Œç”¨äºåŸ¹è®­æˆ–å±•ç¤ºï¼Œä¸å½±å“ç”Ÿäº§æ•°æ®ã€‚
- **è‡ªåŠ¨ä¿å­˜**ï¼šç¼–è¾‘çŠ¶æ€ä¸‹è‡ªåŠ¨å®šæ—¶ä¿å­˜ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯ (Frontend)
- **æ¡†æ¶**ï¼š[React 18](https://react.dev/) + [TypeScript](https://www.typescriptlang.org/)
- **æ„å»ºå·¥å…·**ï¼š[Vite](https://vitejs.dev/)
- **å¯è§†åŒ–**ï¼š[React Flow](https://reactflow.dev/) (æµç¨‹å›¾), [Dnd Kit](https://dndkit.com/) (æ‹–æ‹½)
- **çŠ¶æ€ç®¡ç†**ï¼š[Zustand](https://github.com/pmndrs/zustand)
- **æ ·å¼åº“**ï¼š[Tailwind CSS](https://tailwindcss.com/) + [Shadcn/UI](https://ui.shadcn.com/)
- **é€šä¿¡**ï¼šSocket.IO Client

### åç«¯ (Backend)
- **è¿è¡Œæ—¶**ï¼š[Node.js](https://nodejs.org/)
- **æ¡†æ¶**ï¼š[Express](https://expressjs.com/)
- **æ•°æ®åº“**ï¼š[SQLite](https://www.sqlite.org/) (è½»é‡çº§ã€æ— éœ€é…ç½®)
- **é€šä¿¡**ï¼šSocket.IO (WebSocket Server)

## ğŸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…åç«¯ä¾èµ–
cd server
npm install
```

### 2. å¯åŠ¨å¼€å‘ç¯å¢ƒ

ä½ éœ€è¦åŒæ—¶å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼ˆç”¨äºæ•°æ®å­˜å‚¨å’Œåä½œï¼‰å’Œå‰ç«¯åº”ç”¨ã€‚

**å¯åŠ¨åç«¯ï¼š**
```bash
cd server
npm run dev
# æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3001
```

**å¯åŠ¨å‰ç«¯ï¼š**
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run dev
# åº”ç”¨è¿è¡Œåœ¨ http://localhost:5173
# åŒæ—¶å¯ä»¥é€šè¿‡å±€åŸŸç½‘ IP è®¿é—®ï¼Œä¾‹å¦‚ï¼šhttp://10.201.56.169:5173
```

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºå‰ç«¯
npm run build

# æ„å»ºåç«¯
cd server
npm run build
npm start
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
mes-recipe-editor/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶ (Editor, Graph, Config, etc.)
â”‚   â”œâ”€â”€ hooks/          # Custom Hooks (UseSocketSync, Layout, etc.)
â”‚   â”œâ”€â”€ store/          # Zustand Stores (Recipe, Collab, FieldConfig)
â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘æœåŠ¡ (Scheduler, API wrappers)
â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ src/            # åç«¯æºç 
â”‚   â””â”€â”€ recipe.db       # SQLite æ•°æ®åº“æ–‡ä»¶ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ AI-GUIDE.md         # AI åŠ©æ‰‹æŠ€æœ¯å¯¼èˆªæ–‡æ¡£
â””â”€â”€ AUTO_LAYOUT_ALGORITHM.md # è‡ªç ”å¸ƒå±€ç®—æ³•è¯¦ç»†æ–‡æ¡£
```

## ğŸ“– ä½¿ç”¨æ–‡æ¡£

æ›´è¯¦ç»†çš„æŠ€æœ¯ç»†èŠ‚å’Œå¼€å‘æŒ‡å—ï¼Œè¯·å‚é˜…ä»¥ä¸‹æ–‡æ¡£ï¼š

- **[AI-GUIDE.md](./AI-GUIDE.md)**: é¢å‘å¼€å‘è€…çš„è¯¦ç»†æŠ€æœ¯å¯¼èˆªå’Œæ¶æ„è¯´æ˜ã€‚
- **[AUTO_LAYOUT_ALGORITHM.md](./AUTO_LAYOUT_ALGORITHM.md)**: æ·±å…¥äº†è§£è‡ªç ”çš„å·¥è‰ºæµå¸ƒå±€ç®—æ³•åŸç†ã€‚
- **[IMPLEMENTATION_SUMMARY.md](./IMPLEMENTATION_SUMMARY.md)**: é¡¹ç›®å®æ–½æ€»ç»“ä¸å˜æ›´è®°å½•ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License
